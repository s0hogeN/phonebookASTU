<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-16">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/simplebar.css" />
    <link rel="stylesheet" href="/static/css/admin.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700&display=swap" rel="stylesheet">
    <script src="/static/js/simplebar.min.js"></script>
    <script src="/static/js/admin.js"></script>
    <!--<script src="/static/js/phonebookList.js"></script>-->
    <link href="/static/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <title>Справочник</title>
</head>
<body>
    <header class="header" id="header">
        <div class="header-part1">
            <a href="/"><img class="header-img" src="/static/img/AGTU.png"></a>
            <a href="/"><div class="header-title">Телефонный справочник АГТУ</div></a>
        </div>
        <!-- <div class="header-part2">
            <div class="identified">
                <img src="../static/img/guest_1.png">
                <p>Гость</p>
            </div>
            <a href="/author">
                <div class="header-login-btn">
                    <p>Войти</p>
                </div>
            </a>
        </div> -->
    </header>
    <main>
        <div id="list">
            <div class="">
                <div class="logo">
            <img src="/static/img/AGTU_2.png">
            <div class="logo-info">
                <div class="logo-container">
                    <div class="logo-text">
                        <div class="univer-title">Астраханский государственный технический университет</div>
                        <div class="site-template">Сайт АГТУ: <a href="https://astu.ru">astu.ru</a></div>
                        <div class="site-template">Образовательный портал: <a href="https://portal2.astu.ru">portal2.astu.ru</a></div>
                        <div class="site-template">Личный кабинет студента: <a href="https://kabinet.astu.ru">kabinet.astu.ru</a></div>
                        <div class="site-template">Расписание занятий: <a href="https://table.astu.ru">table.astu.ru</a></div>
                    </div>
                </div>
            </div>
            </div>
            </div>
            
            <div class="line-pod"></div>
            <div class="units-dropdown">
                <div class="units-controls">
                    <button id="units-toggle" class="dropdown-toggle" aria-expanded="false">Выбрать подразделение</button>
                    <div class="units-search">
                        <img src="/static/img/icon-search.png" alt="Search" class="search-icon">
                        <input type="text" placeholder="Найти..." id="search">
                    </div>
                    <button id="units-edit" class="dropdown-toggle" onclick="showUnits()">Редактировать подразделения</button>
                    <button id="emp-edit" class="dropdown-toggle" onclick="showEmployees()">Редактировать сотрудников</button>
                </div>
                <div id="units-menu" class="dropdown-menu" hidden>
                    <div data-simplebar class="button-list" id="btn-list">
                        {{range .Units}}
                          {{if eq .Visible 1}}
                          <div class="button-el" id="btn-{{.ID}}">
                            {{.Label}}
                          </div>
                          {{end}}
                        {{end}}
                    </div>
                </div>
            </div>
            <div id="employees-container">
                <div class="container-book">
                        <div class="container-titles" id="container-titles">
                            
                        </div>
                        <div id="container-main">

                        </div>
                </div>
            </div>
        </div>
        
    </main>
    <footer class="footer">
        <div class="footer-content">
            <img class="footer-logo" src="/static/img/ASTU_footer.png" alt="АГТУ">
            <div class="footer-text">
                г. Астрахань, ул. Татищева, 16<br>
                e-mail: post@astu.ru<br>
                Приемная комиссия: +7(8512)61-41-45, 8(800)700-25-04<br>
                Пн-Пт: 8.30 -17.00, Сб: 8.30 - 13.00
            </div>
            <div class="footer-copy">© 2010-2025<br>Все права защищены. astu.ru</div>
        </div>
        <a href="/author" class="footer-login-btn">Войти</a>
    </footer>
    <script src="/static/js/search.js"></script>
    <script src="/static/js/order-btn.js"></script>
    <script src="/static/js/scrollbar.js"></script>
    <script>
      (function() {
        var toggle = document.getElementById('units-toggle');
        var menu = document.getElementById('units-menu');
        if (!toggle || !menu) return;
        function openMenu() {
          menu.removeAttribute('hidden');
          // Force reflow to ensure transition starts
          void menu.offsetHeight;
          menu.classList.add('open');
        }
        function closeMenu() {
          menu.classList.remove('open');
          // Wait for CSS transition to finish, then hide
          var onTransitionEnd = function(e) {
            if (e.propertyName === 'max-height') {
              menu.setAttribute('hidden', '');
              menu.removeEventListener('transitionend', onTransitionEnd);
            }
          };
          menu.addEventListener('transitionend', onTransitionEnd);
        }
        toggle.addEventListener('click', function() {
          var expanded = toggle.getAttribute('aria-expanded') === 'true';
          toggle.setAttribute('aria-expanded', String(!expanded));
          if (expanded) {
            closeMenu();
          } else {
            openMenu();
          }
        });
      })();
    </script>
    <script>
      (function() {
        var header = document.getElementById('header');
        if (!header) return;
        var lastIsBlurred = false;
        function onScroll() {
          var shouldBlur = window.scrollY > 10;
          if (shouldBlur !== lastIsBlurred) {
            header.classList.toggle('blurred', shouldBlur);
            lastIsBlurred = shouldBlur;
          }
        }
        window.addEventListener('scroll', onScroll, { passive: true });
        onScroll();
      })();
    </script>
</body>
</html>